(function(){var body,copeWithMessage,elem,elems,first_child,height,i,iframe,iframes,len,overlay,sha,toggleOverlay,width;if(!document.getElementsByClassName)document.getElementsByClassName=function(e){var t,i,a,l,s;s=[];for(t=0,i=(l=this.getElementsByTagName("*")).length;t<i;t++)if((a=l[t]).class_name===e)s.push(a);return s};elems=document.getElementsByClassName("wantedly-visit-button");iframes=[];for(i=0,len=elems.length;i<len;i++){elem=elems[i];sha=elem.getAttribute("data-visit-button-id");if(sha&&"div"===elem.tagName.toLowerCase()){width=parseInt(elem.getAttribute("data-width"),10);if(isNaN(width))width=270;if(2e3<width)width=2e3;if(width<160)width=160;height=parseInt(elem.getAttribute("data-height"),10);if(isNaN(height))height=60;if(500<height)height=500;if(height<28)height=28;overlay=document.createElement("iframe");overlay.className="wantedly-white-overlay";overlay.style.display="none";overlay.style.width="100%";overlay.style.height="100%";overlay.style.position="fixed";overlay.style.top="0";overlay.style.left="0";overlay.style.background="transparent";overlay.style.zIndex=123456789;overlay.src="https://platform.wantedly.com/visit_buttons/X/apply_confirm_modal".replace("X",sha);body=document.getElementsByTagName("body")[0];first_child=body.children[0];body.insertBefore(overlay,first_child);toggleOverlay=function(e){if("wantedly-visit-button-modal:open"===e.data)overlay.style.display="block";if("wantedly-visit-button-modal:close"===e.data)return overlay.style.display="none"};if(window.addEventListener)window.addEventListener("message",toggleOverlay);else window.attachEvent("onmessage",toggleOverlay);iframe=document.createElement("iframe");iframe.scrolling="no";iframe.frameBorder=0;iframe.allowTransparency=!0;iframe.allowFullscreen=!0;iframe.style.border="none";iframe.style.overflow="hidden";iframe.style.visibility="visible";iframe.style.width=width+"px";iframe.style.height=height+"px";iframe.src="https://platform.wantedly.com/visit_buttons/X".replace("X",sha)+"?width="+width+"&height="+height;elem.parentNode.insertBefore(iframe,elem);iframes.push(iframe)}}copeWithMessage=function(e){var j,len1,results;if("https://platform.wantedly.com"===e.origin&&"{"===e.data[0]){eval("var mapping = "+e.data);if("wantedly_platform:hide"===mapping.event){results=[];for(j=0,len1=iframes.length;j<len1;j++){iframe=iframes[j];results.push(iframe.style.display="none")}return results}}};if(window.addEventListener)window.addEventListener("message",copeWithMessage);else window.attachEvent("onmessage",copeWithMessage)}).call(this);